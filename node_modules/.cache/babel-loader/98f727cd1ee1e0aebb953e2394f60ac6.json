{"ast":null,"code":"var _jsxFileName = \"/home/ogoidmp/dmpdev/projetos-trybe/sd-019-c-project-trybetunes/src/Components/Content/index.jsx\";\nimport React, { Component } from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport Login from '../../Pages/Login';\nimport Album from '../../Pages/Album';\nimport NotFound from '../../Pages/NotFound';\nimport Search from '../../Pages/Search';\nimport Favorites from '../../Pages/Favorites';\nimport Profile from '../../Pages/Profile';\nimport ProfileEdit from '../../Pages/ProfileEdit';\nimport Loading from '../../Pages/Loanding';\nimport { createUser } from '../../services/userAPI';\nimport './styles.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Content extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleFillForm = _ref => {\n      let {\n        target: {\n          name,\n          value\n        }\n      } = _ref;\n      this.setState(_ref2 => {\n        let {\n          userForm\n        } = _ref2;\n        return {\n          userForm: { ...userForm,\n            [name]: value\n          }\n        };\n      }, this.validationForm(name, value));\n    };\n\n    this.validationForm = (name, value) => {\n      if (name === 'name') {\n        this.setState({\n          isDisabled: value.length <= 2\n        });\n      }\n    };\n\n    this.handleLoginSubmit = async () => {\n      const {\n        userForm\n      } = this.state;\n      const {\n        isLogged,\n        isLoading\n      } = this.state;\n      this.setState({\n        isLogged: await createUser(userForm)\n      }, this.setState({\n        isLoading: isLogged === 'OK'\n      }));\n    };\n\n    this.componentWillUnmount = () => {\n      console.log('oi');\n    };\n\n    this.state = {\n      userForm: {\n        name: '',\n        email: '',\n        image: '',\n        description: ''\n      },\n      isDisabled: true,\n      isLogged: false,\n      isLoading: false\n    };\n  }\n\n  render() {\n    const {\n      userForm: {\n        name\n      },\n      isDisabled,\n      isLogged,\n      isLoading\n    } = this.state;\n    console.log(isLoading);\n    return /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"content-routes\",\n      children: /*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/\",\n          render: () => isLoading && /*#__PURE__*/_jsxDEV(Redirect, {\n            to: \"/Loading\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 29\n          }, this) || isLogged && /*#__PURE__*/_jsxDEV(Redirect, {\n            to: \"/search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 31\n          }, this) || !isLogged && /*#__PURE__*/_jsxDEV(Login, {\n            handleFillForm: this.handleFillForm,\n            handleLoginSubmit: this.handleLoginSubmit,\n            name: name,\n            isDisabled: isDisabled\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 34\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/search\",\n          component: Search\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/album/:id\",\n          component: Album\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/favorites\",\n          component: Favorites\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/profile\",\n          component: Profile\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/profile/edit\",\n          component: ProfileEdit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/loading\",\n          component: Loading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"*\",\n          component: NotFound\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/home/ogoidmp/dmpdev/projetos-trybe/sd-019-c-project-trybetunes/src/Components/Content/index.jsx"],"names":["React","Component","Switch","Route","Redirect","Login","Album","NotFound","Search","Favorites","Profile","ProfileEdit","Loading","createUser","Content","constructor","props","handleFillForm","target","name","value","setState","userForm","validationForm","isDisabled","length","handleLoginSubmit","state","isLogged","isLoading","componentWillUnmount","console","log","email","image","description","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport Login from '../../Pages/Login';\nimport Album from '../../Pages/Album';\nimport NotFound from '../../Pages/NotFound';\nimport Search from '../../Pages/Search';\nimport Favorites from '../../Pages/Favorites';\nimport Profile from '../../Pages/Profile';\nimport ProfileEdit from '../../Pages/ProfileEdit';\nimport Loading from '../../Pages/Loanding';\nimport { createUser } from '../../services/userAPI';\nimport './styles.css';\n\nexport default class Content extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userForm: {\n        name: '',\n        email: '',\n        image: '',\n        description: '',\n      },\n      isDisabled: true,\n      isLogged: false,\n      isLoading: false,\n    };\n  }\n\n  handleFillForm = ({ target: { name, value } }) => {\n    this.setState(({ userForm }) => ({ userForm: { ...userForm, [name]: value } }),\n      this.validationForm(name, value));\n  }\n\n  validationForm = (name, value) => {\n    if (name === 'name') {\n      this.setState({ isDisabled: value.length <= 2 });\n    }\n  }\n\n  handleLoginSubmit = async () => {\n    const { userForm } = this.state;\n    const { isLogged, isLoading } = this.state;\n    this.setState({ isLogged: await createUser(userForm) },\n      this.setState({ isLoading: isLogged === 'OK' }));\n  }\n\n  componentWillUnmount = () => {\n    console.log('oi');\n  }\n\n  render() {\n    const { userForm: { name }, isDisabled, isLogged, isLoading } = this.state;\n    console.log(isLoading);\n    return (\n      <main className=\"content-routes\">\n        <Switch>\n          <Route\n            exact\n            path=\"/\"\n            render={ () => (\n              (isLoading && <Redirect to=\"/Loading\" />)\n              || (isLogged && <Redirect to=\"/search\" />)\n                || (!isLogged && <Login\n                  handleFillForm={ this.handleFillForm }\n                  handleLoginSubmit={ this.handleLoginSubmit }\n                  name={ name }\n                  isDisabled={ isDisabled }\n                />)) }\n          />\n          <Route exact path=\"/search\" component={ Search } />\n          <Route exact path=\"/album/:id\" component={ Album } />\n          <Route exact path=\"/favorites\" component={ Favorites } />\n          <Route exact path=\"/profile\" component={ Profile } />\n          <Route exact path=\"/profile/edit\" component={ ProfileEdit } />\n          <Route exact path=\"/loading\" component={ Loading } />\n          <Route path=\"*\" component={ NotFound } />\n        </Switch>\n      </main>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}