{"ast":null,"code":"var _jsxFileName = \"/home/ogoidmp/dmpdev/projetos-trybe/sd-019-c-project-trybetunes/src/Pages/ProfileEdit.jsx\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Header from '../Components/Header';\nimport Loading from './Loading';\nimport './CssPages/ProfileEdit.css';\nimport { getUser, updateUser } from '../services/userAPI';\nimport Logotunes from '../images/logo-trybetunes_black.png';\nimport imgDefault from \"../images/image-alt.svg\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class ProfileEdit extends Component {\n  constructor(props) {\n    super(props);\n\n    this.setUserData = async () => {\n      this.setState({\n        userData: await getUser()\n      }, this.validationFillForm);\n      this.setState({\n        isLoading: false\n      });\n    };\n\n    this.handleFillForm = _ref => {\n      let {\n        target: {\n          name,\n          value\n        }\n      } = _ref;\n      this.setState(_ref2 => {\n        let {\n          userData\n        } = _ref2;\n        return {\n          userData: { ...userData,\n            [name]: value\n          }\n        };\n      }, this.validationFillForm);\n    };\n\n    this.validationFillForm = () => {\n      this.setState(_ref3 => {\n        let {\n          userData\n        } = _ref3;\n        return {\n          isDisabled: !Object.values(userData).every(each => each)\n        };\n      });\n    };\n\n    this.handleClickSubmitUser = () => {\n      const {\n        history\n      } = this.props;\n      history.push('/profile');\n      const {\n        userData\n      } = this.state;\n      updateUser(userData);\n    };\n\n    this.state = {\n      userData: {},\n      isLoading: true,\n      isDisabled: true\n    };\n  }\n\n  componentDidMount() {\n    this.setUserData();\n  }\n\n  render() {\n    const {\n      isLoading,\n      isDisabled,\n      userData: {\n        name,\n        email,\n        image,\n        description\n      }\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"edit\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        className: \"header-profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), isLoading ? /*#__PURE__*/_jsxDEV(Loading, {\n        className: \"edit-loading\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 22\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login \",\n        \"data-testid\": \"page-profile-edit\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"logo-image\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"logotunes\",\n            alt: \"Logo trybetunes\",\n            src: Logotunes\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: image || imgDefault,\n            alt: `Foto perfil de ${name}`,\n            className: \"image-login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"form\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"name\",\n            value: name,\n            placeholder: \"Ajuste seu Nome\",\n            \"data-testid\": \"edit-input-name\",\n            type: \"text\",\n            className: \"name-edit\",\n            onChange: this.handleFillForm\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"email\",\n            value: email,\n            placeholder: \"Digite seu novo email\",\n            \"data-testid\": \"edit-input-email\",\n            type: \"email\",\n            className: \"email-edit\",\n            onChange: this.handleFillForm,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            value: image,\n            name: \"image\",\n            type: \"text\",\n            \"data-testid\": \"edit-input-image\",\n            onChange: this.handleFillForm\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            name: \"description\",\n            value: description,\n            placeholder: \"Ajuste seu perfil\",\n            \"data-testid\": \"edit-input-description\",\n            className: \"description-login\",\n            lin: \"10\",\n            onChange: this.handleFillForm\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            \"data-testid\": \"edit-button-save\",\n            disabled: isDisabled,\n            className: \"button-profile\",\n            type: \"button\",\n            onClick: this.handleClickSubmitUser,\n            children: \"Editar perfil\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this);\n  }\n\n}\nProfileEdit.propTypes = {\n  history: PropTypes.shape().isRequired\n};","map":{"version":3,"sources":["/home/ogoidmp/dmpdev/projetos-trybe/sd-019-c-project-trybetunes/src/Pages/ProfileEdit.jsx"],"names":["React","Component","PropTypes","Header","Loading","getUser","updateUser","Logotunes","ProfileEdit","constructor","props","setUserData","setState","userData","validationFillForm","isLoading","handleFillForm","target","name","value","isDisabled","Object","values","every","each","handleClickSubmitUser","history","push","state","componentDidMount","render","email","image","description","imgDefault","propTypes","shape","isRequired"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Header from '../Components/Header';\nimport Loading from './Loading';\nimport './CssPages/ProfileEdit.css';\nimport { getUser, updateUser } from '../services/userAPI';\nimport Logotunes from '../images/logo-trybetunes_black.png';\nimport imgDefault from '../images/image-alt.svg';\n\nexport default class ProfileEdit extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userData: {},\n      isLoading: true,\n      isDisabled: true,\n    };\n  }\n\n  componentDidMount() {\n    this.setUserData();\n  }\n\n  setUserData = async () => {\n    this.setState({ userData: await getUser() }, this.validationFillForm);\n    this.setState({ isLoading: false });\n  }\n\n  handleFillForm = ({ target: { name, value } }) => {\n    this.setState(({ userData }) => ({ userData: { ...userData, [name]: value },\n    }), this.validationFillForm);\n  }\n\n  validationFillForm = () => {\n    this.setState(({ userData }) => ({\n      isDisabled: !Object.values(userData).every((each) => each),\n    }));\n  }\n\n  handleClickSubmitUser = () => {\n    const { history } = this.props;\n    history.push('/profile');\n    const { userData } = this.state;\n    updateUser(userData);\n  }\n\n  render() {\n    const { isLoading, isDisabled,\n      userData: { name, email, image, description } } = this.state;\n    return (\n      <div className=\"edit\">\n        <Header className=\"header-profile\" />\n        {isLoading ? <Loading className=\"edit-loading\" />\n          : (\n            <div className=\"login \" data-testid=\"page-profile-edit\">\n\n              <span className=\"logo-image\">\n                <img\n                  className=\"logotunes\"\n                  alt=\"Logo trybetunes\"\n                  src={ Logotunes }\n                />\n                <img\n                  src={ image || imgDefault }\n                  alt={ `Foto perfil de ${name}` }\n                  className=\"image-login\"\n                />\n              </span>\n\n              <form className=\"form\">\n\n                <input\n                  name=\"name\"\n                  value={ name }\n                  placeholder=\"Ajuste seu Nome\"\n                  data-testid=\"edit-input-name\"\n                  type=\"text\"\n                  className=\"name-edit\"\n                  onChange={ this.handleFillForm }\n                />\n\n                <input\n                  name=\"email\"\n                  value={ email }\n                  placeholder=\"Digite seu novo email\"\n                  data-testid=\"edit-input-email\"\n                  type=\"email\"\n                  className=\"email-edit\"\n                  onChange={ this.handleFillForm }\n                  required\n                />\n\n                <input\n                  value={ image }\n                  name=\"image\"\n                  type=\"text\"\n                  data-testid=\"edit-input-image\"\n                  onChange={ this.handleFillForm }\n                />\n\n                <textarea\n                  name=\"description\"\n                  value={ description }\n                  placeholder=\"Ajuste seu perfil\"\n                  data-testid=\"edit-input-description\"\n                  className=\"description-login\"\n                  lin=\"10\"\n                  onChange={ this.handleFillForm }\n                />\n\n                <button\n                  data-testid=\"edit-button-save\"\n                  disabled={ isDisabled }\n                  className=\"button-profile\"\n                  type=\"button\"\n                  onClick={ this.handleClickSubmitUser }\n                >\n                  Editar perfil\n                </button>\n              </form>\n\n            </div>)}\n      </div>\n    );\n  }\n}\n\nProfileEdit.propTypes = {\n  history: PropTypes.shape().isRequired,\n};\n"]},"metadata":{},"sourceType":"module"}