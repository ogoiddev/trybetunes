{"ast":null,"code":"var _jsxFileName = \"/home/ogoidmp/dmpdev/projetos-trybe/sd-019-c-project-trybetunes/src/Pages/Login.jsx\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport './CssPages/Login.css';\nimport Loading from './Loanding';\nimport logoTunes from '../images/logo-trybetunes_black.png';\nimport { createUser } from '../services/userAPI';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleFillForm = _ref => {\n      let {\n        target: {\n          name,\n          value,\n          files\n        }\n      } = _ref;\n      this.setState(_ref2 => {\n        let {\n          userInfo\n        } = _ref2;\n        return {\n          userInfo: { ...userInfo,\n            [name]: name === 'image' ? URL.createObjectURL(files[0]) : value\n          }\n        };\n      }, this.validationFillForm(name, value));\n    };\n\n    this.validationFillForm = (name, value) => {\n      this.setState({\n        isDisabled: name && value.length <= 2\n      });\n    };\n\n    this.handleClickSubmitUser = async () => {\n      this.setState({\n        isLoading: true\n      });\n      const {\n        userInfo\n      } = this.state;\n      await createUser(userInfo);\n      const {\n        history\n      } = this.props;\n      history.push('/search');\n    };\n\n    this.state = {\n      userInfo: {},\n      isDisabled: true,\n      isLoading: false\n    };\n  }\n\n  render() {\n    const {\n      userInfo: {\n        name,\n        image\n      },\n      isDisabled,\n      isLoading\n    } = this.state;\n    return isLoading ? /*#__PURE__*/_jsxDEV(Loading, {\n      className: \"login-loading\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 25\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login\",\n      \"data-testid\": \"page-login\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"logoTunes\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: logoTunes,\n          alt: \"Logo da TrybeTunes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 13\n        }, this), image ? /*#__PURE__*/_jsxDEV(\"img\", {\n          alt: `Foto do perfil de  ${name}`,\n          \"data-testid\": \"login-image-input\",\n          className: \"image-login\",\n          onChange: this.handleFillForm,\n          src: image,\n          width: \"10px\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 17\n        }, this) : '']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"form\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"name\",\n          placeholder: \"Digite seu Nome\",\n          \"data-testid\": \"login-name-input\",\n          type: \"text\",\n          className: \"name-login\",\n          onChange: this.handleFillForm\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"email\",\n          placeholder: \"Digite seu Email\",\n          \"data-testid\": \"login-email-input\",\n          type: \"email\",\n          className: \"email-login\",\n          onChange: this.handleFillForm\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"image\",\n          type: \"file\",\n          onChange: this.handleFillForm\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          name: \"description\",\n          placeholder: \"Conte um pouco sobre seu perfil musical\",\n          \"data-testid\": \"login-description-input\",\n          className: \"description-login\",\n          maxLength: \"300\",\n          onChange: this.handleFillForm\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          \"data-testid\": \"login-submit-button\",\n          disabled: isDisabled,\n          className: \"button-login\",\n          type: \"button\",\n          onClick: this.handleClickSubmitUser,\n          children: \"Entrar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }, this);\n  }\n\n}\nLogin.defaultProps = {\n  history: undefined\n};\nLogin.propTypes = {\n  histor: PropTypes.shape(PropTypes.string)\n};","map":{"version":3,"sources":["/home/ogoidmp/dmpdev/projetos-trybe/sd-019-c-project-trybetunes/src/Pages/Login.jsx"],"names":["React","Component","PropTypes","Loading","logoTunes","createUser","Login","constructor","props","handleFillForm","target","name","value","files","setState","userInfo","URL","createObjectURL","validationFillForm","isDisabled","length","handleClickSubmitUser","isLoading","state","history","push","render","image","defaultProps","undefined","propTypes","histor","shape","string"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport './CssPages/Login.css';\nimport Loading from './Loanding';\nimport logoTunes from '../images/logo-trybetunes_black.png';\nimport { createUser } from '../services/userAPI';\n\nexport default class Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userInfo: {},\n      isDisabled: true,\n      isLoading: false,\n    };\n  }\n\n  handleFillForm = ({ target: { name, value, files } }) => {\n    this.setState(({ userInfo }) => ({\n      userInfo: {\n        ...userInfo,\n        [name]: name === 'image'\n          ? URL.createObjectURL(files[0])\n          : value,\n      },\n    }), this.validationFillForm(name, value));\n  }\n\n  validationFillForm = (name, value) => {\n    this.setState({ isDisabled: name && (value.length <= 2) });\n  }\n\n  handleClickSubmitUser = async () => {\n    this.setState({ isLoading: true });\n    const { userInfo } = this.state;\n    await createUser(userInfo);\n    const { history } = this.props;\n    history.push('/search');\n  }\n\n  render() {\n    const { userInfo: { name, image }, isDisabled, isLoading } = this.state;\n    return (isLoading ? <Loading className=\"login-loading\" />\n      : (\n        <div className=\"login\" data-testid=\"page-login\">\n\n          <span className=\"logoTunes\">\n            <img src={ logoTunes } alt=\"Logo da TrybeTunes\" />\n            {image\n              ? (\n                <img\n                  alt={ `Foto do perfil de  ${name}` }\n                  data-testid=\"login-image-input\"\n                  className=\"image-login\"\n                  onChange={ this.handleFillForm }\n                  src={ image }\n                  width=\"10px\"\n                />)\n              : ''}\n          </span>\n\n          <form className=\"form\">\n\n            <input\n              name=\"name\"\n              placeholder=\"Digite seu Nome\"\n              data-testid=\"login-name-input\"\n              type=\"text\"\n              className=\"name-login\"\n              onChange={ this.handleFillForm }\n            />\n\n            <input\n              name=\"email\"\n              placeholder=\"Digite seu Email\"\n              data-testid=\"login-email-input\"\n              type=\"email\"\n              className=\"email-login\"\n              onChange={ this.handleFillForm }\n            />\n\n            <input name=\"image\" type=\"file\" onChange={ this.handleFillForm } />\n\n            <textarea\n              name=\"description\"\n              placeholder=\"Conte um pouco sobre seu perfil musical\"\n              data-testid=\"login-description-input\"\n              className=\"description-login\"\n              maxLength=\"300\"\n              onChange={ this.handleFillForm }\n            />\n\n            <button\n              data-testid=\"login-submit-button\"\n              disabled={ isDisabled }\n              className=\"button-login\"\n              type=\"button\"\n              onClick={ this.handleClickSubmitUser }\n            >\n              Entrar\n            </button>\n          </form>\n\n        </div>)\n    );\n  }\n}\n\nLogin.defaultProps = {\n  history: undefined,\n};\n\nLogin.propTypes = {\n  histor: PropTypes.shape(PropTypes.string),\n};\n"]},"metadata":{},"sourceType":"module"}