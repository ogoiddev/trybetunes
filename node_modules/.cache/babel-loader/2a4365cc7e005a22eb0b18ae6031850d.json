{"ast":null,"code":"var _jsxFileName = \"/home/ogoidmp/dmpdev/projetos-trybe/sd-019-c-project-trybetunes/src/Pages/Login.jsx\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport './CssPages/Login.css';\nimport Loading from './Loanding';\nimport logoTunes from '../images/logo-trybetunes_black.png';\nimport { createUser } from '../services/userAPI';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleFillForm = _ref => {\n      let {\n        target: {\n          name,\n          value,\n          files\n        }\n      } = _ref;\n      this.setState(_ref2 => {\n        let {\n          userInfo\n        } = _ref2;\n        return {\n          userInfo: { ...userInfo,\n            [name]: value\n          }\n        };\n      }, this.validationFillForm(name, value));\n\n      if (name === image) {\n        this.setState({\n          foto: files[0]\n        });\n        console.log(files);\n      }\n    };\n\n    this.validationFillForm = (name, value) => {\n      this.setState({\n        isDisabled: name && value.length <= 2\n      });\n    };\n\n    this.handleClickSubmitUser = async () => {\n      this.setState({\n        isLoading: true\n      });\n      const {\n        userInfo\n      } = this.state;\n      await createUser(userInfo);\n      const {\n        history\n      } = this.props;\n      history.push('/search');\n    };\n\n    this.state = {\n      userInfo: {},\n      isDisabled: true,\n      isLoading: false,\n      foto: ''\n    };\n  }\n\n  render() {\n    const {\n      userInfo: {\n        name\n      },\n      isDisabled,\n      isLoading,\n      foto\n    } = this.state;\n    return isLoading ? /*#__PURE__*/_jsxDEV(Loading, {\n      className: \"login-loading\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 25\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login\",\n      \"data-testid\": \"page-login\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"logoTunes\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: logoTunes,\n          alt: \"Logo da TrybeTunes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          alt: `Foto do perfil de  ${name}`,\n          \"data-testid\": \"login-image-input\",\n          className: \"image-login\",\n          onChange: this.handleFillForm // src={ URL.createObjectURL({ ...foto }) }\n\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"form\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"name\",\n          placeholder: \"Digite seu Nome\",\n          \"data-testid\": \"login-name-input\",\n          type: \"text\",\n          className: \"name-login\",\n          onChange: this.handleFillForm\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"email\",\n          placeholder: \"Digite seu Email\",\n          \"data-testid\": \"login-email-input\",\n          type: \"email\",\n          className: \"email-login\",\n          onChange: this.handleFillForm\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"image\",\n          type: \"file\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          name: \"description\",\n          placeholder: \"Conte um pouco sobre seu perfil musical\",\n          \"data-testid\": \"login-description-input\",\n          className: \"description-login\",\n          maxLength: \"300\",\n          onChange: this.handleFillForm\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          \"data-testid\": \"login-submit-button\",\n          disabled: isDisabled,\n          className: \"button-login\",\n          type: \"button\",\n          onClick: this.handleClickSubmitUser,\n          tabIndex: \"0\",\n          onKeyDown: this.handleClickSubmitUser,\n          children: \"Entrar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }, this);\n  }\n\n}\nLogin.propTypes = {\n  history: PropTypes.arrayOf(PropTypes.string).isRequired\n};","map":{"version":3,"sources":["/home/ogoidmp/dmpdev/projetos-trybe/sd-019-c-project-trybetunes/src/Pages/Login.jsx"],"names":["React","Component","PropTypes","Loading","logoTunes","createUser","Login","constructor","props","handleFillForm","target","name","value","files","setState","userInfo","validationFillForm","image","foto","console","log","isDisabled","length","handleClickSubmitUser","isLoading","state","history","push","render","propTypes","arrayOf","string","isRequired"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport './CssPages/Login.css';\nimport Loading from './Loanding';\nimport logoTunes from '../images/logo-trybetunes_black.png';\nimport { createUser } from '../services/userAPI';\n\nexport default class Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userInfo: {},\n      isDisabled: true,\n      isLoading: false,\n      foto: '',\n    };\n  }\n\n  handleFillForm = ({ target: { name, value, files } }) => {\n    this.setState(({ userInfo }) => ({ userInfo: { ...userInfo, [name]: value } }),\n      this.validationFillForm(name, value));\n    if (name === image) {\n      this.setState({ foto: files[0] });\n      console.log(files);\n    }\n  }\n\n  validationFillForm = (name, value) => {\n    this.setState({ isDisabled: name && (value.length <= 2) });\n  }\n\n  handleClickSubmitUser = async () => {\n    this.setState({ isLoading: true });\n    const { userInfo } = this.state;\n    await createUser(userInfo);\n    const { history } = this.props;\n    history.push('/search');\n  }\n\n  render() {\n    const { userInfo: { name }, isDisabled, isLoading, foto } = this.state;\n    return (isLoading ? <Loading className=\"login-loading\" />\n      : (\n        <div className=\"login\" data-testid=\"page-login\">\n\n          <span className=\"logoTunes\">\n            <img src={ logoTunes } alt=\"Logo da TrybeTunes\" />\n            <img\n              alt={ `Foto do perfil de  ${name}` }\n              data-testid=\"login-image-input\"\n              className=\"image-login\"\n              onChange={ this.handleFillForm }\n              // src={ URL.createObjectURL({ ...foto }) }\n            />\n          </span>\n\n          <form className=\"form\">\n\n            <input\n              name=\"name\"\n              placeholder=\"Digite seu Nome\"\n              data-testid=\"login-name-input\"\n              type=\"text\"\n              className=\"name-login\"\n              onChange={ this.handleFillForm }\n            />\n\n            <input\n              name=\"email\"\n              placeholder=\"Digite seu Email\"\n              data-testid=\"login-email-input\"\n              type=\"email\"\n              className=\"email-login\"\n              onChange={ this.handleFillForm }\n            />\n\n            <input name=\"image\" type=\"file\" />\n\n            <textarea\n              name=\"description\"\n              placeholder=\"Conte um pouco sobre seu perfil musical\"\n              data-testid=\"login-description-input\"\n              className=\"description-login\"\n              maxLength=\"300\"\n              onChange={ this.handleFillForm }\n            />\n\n            <button\n              data-testid=\"login-submit-button\"\n              disabled={ isDisabled }\n              className=\"button-login\"\n              type=\"button\"\n              onClick={ this.handleClickSubmitUser }\n              tabIndex=\"0\"\n              onKeyDown={ this.handleClickSubmitUser }\n            >\n              Entrar\n            </button>\n          </form>\n\n        </div>)\n    );\n  }\n}\n\nLogin.propTypes = {\n  history: PropTypes.arrayOf(PropTypes.string).isRequired,\n};\n"]},"metadata":{},"sourceType":"module"}