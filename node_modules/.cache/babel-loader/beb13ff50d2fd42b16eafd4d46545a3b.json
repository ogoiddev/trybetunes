{"ast":null,"code":"var _jsxFileName = \"/home/ogoidmp/dmpdev/projetos-trybe/sd-019-c-project-trybetunes/src/Pages/Login.jsx\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport './CssPages/Login.css';\nimport Loading from './Loading';\nimport logoTunes from '../images/logo-trybetunes_black.png';\nimport { createUser } from '../services/userAPI';\nimport imgDefault from \"../images/image-alt.svg\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleFillForm = _ref => {\n      let {\n        target: {\n          name,\n          value\n        }\n      } = _ref;\n      this.setState(_ref2 => {\n        let {\n          userInfo\n        } = _ref2;\n        return {\n          userInfo: { ...userInfo,\n            [name]: value\n          }\n        };\n      }, this.validationFillForm(name, value));\n    };\n\n    this.validationFillForm = (name, value) => {\n      this.setState({\n        isDisabled: name && value.length <= 2\n      });\n    };\n\n    this.handleClickSubmitUser = async () => {\n      this.setState({\n        isLoading: true\n      });\n      const {\n        userInfo\n      } = this.state;\n      await createUser(userInfo);\n      const {\n        history\n      } = this.props;\n      history.push('/search');\n    };\n\n    this.state = {\n      userInfo: {},\n      isDisabled: true,\n      isLoading: false\n    };\n  } // handleFillForm = ({ target: { name, value, files } }) => {\n  //   this.setState(({ userInfo }) => ({\n  //     userInfo: {\n  //       ...userInfo,\n  //       [name]: name === 'image'\n  //         ? URL.createObjectURL(files[0])\n  //         : value,\n  //     },\n  //   }), this.validationFillForm(name, value));\n  // }\n\n\n  render() {\n    const {\n      userInfo: {\n        name,\n        image\n      },\n      isDisabled,\n      isLoading\n    } = this.state;\n    return isLoading ? /*#__PURE__*/_jsxDEV(Loading, {\n      className: \"login-loading\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 25\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login\",\n      \"data-testid\": \"page-login\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"logoTunes\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: logoTunes,\n          alt: \"Logo da TrybeTunes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          alt: `Foto do perfil de  ${name}`,\n          \"data-testid\": \"login-image-input\",\n          className: \"image-login\",\n          onChange: this.handleFillForm,\n          src: image || imgDefault,\n          width: \"100px\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"form\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"name\",\n          placeholder: \"Digite seu Nome\",\n          \"data-testid\": \"login-name-input\",\n          type: \"text\",\n          value: \"https://media-exp1.licdn.com/dms/image/C5603AQHTk6V-Wpmj3g/profile-displayphoto-shrink_200_200/0/1636496839595?e=1652918400&v=beta&t=B3mhI-EvKzPsQNuhZlejogdVW70oKBSckCs6UHWKM1U\",\n          onChange: this.handleFillForm\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"email\",\n          placeholder: \"Digite seu Email\",\n          \"data-testid\": \"login-email-input\",\n          type: \"email\",\n          className: \"email-login\",\n          onChange: this.handleFillForm\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: image,\n          name: \"image\",\n          type: \"text\",\n          onChange: this.handleFillForm\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          name: \"description\",\n          placeholder: \"Conte um pouco sobre seu perfil musical\",\n          \"data-testid\": \"login-description-input\",\n          className: \"description-login\",\n          maxLength: \"300\",\n          onChange: this.handleFillForm\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          \"data-testid\": \"login-submit-button\",\n          disabled: isDisabled,\n          className: \"button-login\",\n          type: \"button\",\n          onClick: this.handleClickSubmitUser,\n          children: \"Entrar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this);\n  }\n\n}\nLogin.defaultProps = {\n  history: undefined\n};\nLogin.propTypes = {\n  history: PropTypes.shape('n')\n};","map":{"version":3,"sources":["/home/ogoidmp/dmpdev/projetos-trybe/sd-019-c-project-trybetunes/src/Pages/Login.jsx"],"names":["React","Component","PropTypes","Loading","logoTunes","createUser","Login","constructor","props","handleFillForm","target","name","value","setState","userInfo","validationFillForm","isDisabled","length","handleClickSubmitUser","isLoading","state","history","push","render","image","imgDefault","defaultProps","undefined","propTypes","shape"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport './CssPages/Login.css';\nimport Loading from './Loading';\nimport logoTunes from '../images/logo-trybetunes_black.png';\nimport { createUser } from '../services/userAPI';\nimport imgDefault from '../images/image-alt.svg';\n\nexport default class Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userInfo: {},\n      isDisabled: true,\n      isLoading: false,\n    };\n  }\n\n  // handleFillForm = ({ target: { name, value, files } }) => {\n  //   this.setState(({ userInfo }) => ({\n  //     userInfo: {\n  //       ...userInfo,\n  //       [name]: name === 'image'\n  //         ? URL.createObjectURL(files[0])\n  //         : value,\n  //     },\n  //   }), this.validationFillForm(name, value));\n  // }\n\n  handleFillForm = ({ target: { name, value } }) => {\n    this.setState(({ userInfo }) => ({\n      userInfo: { ...userInfo, [name]: value },\n    }), this.validationFillForm(name, value));\n  }\n\n  validationFillForm = (name, value) => {\n    this.setState({ isDisabled: name && (value.length <= 2) });\n  }\n\n  handleClickSubmitUser = async () => {\n    this.setState({ isLoading: true });\n    const { userInfo } = this.state;\n    await createUser(userInfo);\n    const { history } = this.props;\n    history.push('/search');\n  }\n\n  render() {\n    const { userInfo: { name, image }, isDisabled, isLoading } = this.state;\n    return (isLoading ? <Loading className=\"login-loading\" />\n      : (\n        <div className=\"login\" data-testid=\"page-login\">\n\n          <span className=\"logoTunes\">\n            <img src={ logoTunes } alt=\"Logo da TrybeTunes\" />\n\n            <img\n              alt={ `Foto do perfil de  ${name}` }\n              data-testid=\"login-image-input\"\n              className=\"image-login\"\n              onChange={ this.handleFillForm }\n              src={ image || imgDefault }\n              width=\"100px\"\n            />\n\n          </span>\n\n          <form className=\"form\">\n\n            <input\n              name=\"name\"\n              placeholder=\"Digite seu Nome\"\n              data-testid=\"login-name-input\"\n              type=\"text\"\n              value=\"https://media-exp1.licdn.com/dms/image/C5603AQHTk6V-Wpmj3g/profile-displayphoto-shrink_200_200/0/1636496839595?e=1652918400&v=beta&t=B3mhI-EvKzPsQNuhZlejogdVW70oKBSckCs6UHWKM1U\"\n              onChange={ this.handleFillForm }\n            />\n\n            <input\n              name=\"email\"\n              placeholder=\"Digite seu Email\"\n              data-testid=\"login-email-input\"\n              type=\"email\"\n              className=\"email-login\"\n              onChange={ this.handleFillForm }\n            />\n\n            <input\n              value={ image }\n              name=\"image\"\n              type=\"text\"\n              onChange={ this.handleFillForm }\n            />\n\n            <textarea\n              name=\"description\"\n              placeholder=\"Conte um pouco sobre seu perfil musical\"\n              data-testid=\"login-description-input\"\n              className=\"description-login\"\n              maxLength=\"300\"\n              onChange={ this.handleFillForm }\n            />\n\n            <button\n              data-testid=\"login-submit-button\"\n              disabled={ isDisabled }\n              className=\"button-login\"\n              type=\"button\"\n              onClick={ this.handleClickSubmitUser }\n            >\n              Entrar\n            </button>\n          </form>\n\n        </div>)\n    );\n  }\n}\n\nLogin.defaultProps = {\n  history: undefined,\n};\n\nLogin.propTypes = {\n  history: PropTypes.shape('n'),\n};\n"]},"metadata":{},"sourceType":"module"}